define-data coproduct(a: tau, b: tau) as
- left(a)
- right(b)
end

define view<a, b>(x: coproduct(a, b)): i64 as
  match x with
  - coproduct.left(a) ->
    1
  - coproduct.right(b) ->
    2
  end
end

define main(): i64 as
  let x = view<i64, i32>(coproduct.left(10)) in
  let y = view<i64, i32>(coproduct.right(10)) in
  let z = x in
  let w = x in
  1
end
