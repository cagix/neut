variant list(a: tau) {
- Nil()
- Cons(a, list(a))
}

define length-embodied(xs: list(i64)): i64 {
  match xs {
  - list.Nil() =>
    0
  - list.Cons(y, ys) =>
    add-i64(1, length-embodied(ys))
  }
}

define length(xs: &list(i64)): i64 {
  length-embodied(!xs)
}

define sum-of-list(xs: &list(i64)): i64 {
  case xs {
  - list.Nil() =>
    0
  - list.Cons(y, ys) =>
    add-i64(!y, sum-of-list(ys))
  }
}

define main(): i64 {
  // let xs = list.Cons(3, list.Cons(1, list.Cons(20, list.Nil()))) in
  let xs = [3, 1, 20]
  let some-value on xs = length(xs)
  let sum-value on xs = add-i64(sum-of-list(xs), some-value)
  sum-value
}
