import {
- core.top
- core.list => L
}

variant my-list(a: tau) {
- Nil()
- Cons(my-list(a))
}

define main(): i64 {
  let xs: my-list(i64) = Nil()
  let str = "text"
  let val = !str
  let f = lambda () { val }
  let result on f = {
    let _ = f
    val
  }
  let _ = result
  let _ = f
  let xs-cell = new-cell(xs)
  let result on xs-cell = {
    // mutate(xs, lambda (_) { get(xs) })
    mutate(xs-cell, lambda (_) { Nil() })
    1
  }
  let _ = xs-cell
  result
}
